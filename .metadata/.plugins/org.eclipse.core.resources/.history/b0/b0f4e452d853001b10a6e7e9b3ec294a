<%@page import="com.jscompany.springproject.common.Pager"%>
<%@page import="com.jscompany.springproject.model.domain.member.Member"%>
<%@page import="java.util.List"%>
<%@ page contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%
	List<Member> memberList = (List)request.getAttribute("memberList");
	Pager pager = (Pager)request.getAttribute("pager");
	pager.init(request, memberList);
%>
<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/resources/css/admin/style.css">
<style>
</style>
</head>
<body>

	<%@ include file="./inc/sidebar.jsp"%>

	<table>
		<tr>
			<th>이메일</th>
			<th>이름</th>
			<th>가입일자</th>
			<th>인증여부</th>
		</tr>
		<%
			int curPos = pager.getCurPos();
			int num = pager.getNum();
		%>
		<%for(int i = 1; i<pager.getPageSize() + 1; i++){ %>
		<%if(num<1)break; %>
		<%Board board = list.get(curPos++);%>
		<tr>
			<td><%=num-- %></td>
			<td><a
				href="/board/detail.do?board_id=<%=board.getBoard_id()%>&currentPage=<%=pager.getCurrentPage()%>"><%=board.getTitle() %></a></td>
			<td><%=board.getWriter() %></td>
			<td><%=board.getContent() %></td>
			<td><%=board.getRegdate() %></td>
			<td><%=board.getHit() %></td>
		</tr>
		<%} %>
		<tr>
			<td colspan="6" style="text-align: center"><a id="blockPage"
				href="/board/list.do?currentPage=<%=1%>">◀◀</a> <%if(pager.getCurrentPage() > 1){%>
				<a id="blockPage"
				href="/board/list.do?currentPage=<%=pager.getFirstPage() - pager.getBlockSize()%>">◀</a>
				<%}else{ %> <a id="blockPage">◀</a> <%} %> <%for(int i = pager.getFirstPage(); i < pager.getLastPage() + 1; i++){ %>
				<%if(pager.getTotalPage() < i)break; %> <a id="blockPage"
				<%if(pager.getCurrentPage() == i){ %> class="curPage" <%} %>
				href="/board/list.do?currentPage=<%=i%>"><%=i %></a> <%} %> <%if(pager.getCurrentPage() == pager.getTotalPage()) {%>
				<a id="blockPage">▶</a> <%} else { %> <a id="blockPage"
				href="/board/list.do?currentPage=<%=pager.getLastPage() + 1%>">▶</a>
				<%} %> <a id="blockPage"
				href="/board/list.do?currentPage=<%=pager.getTotalPage()%>">▶▶</a></td>
		</tr>

		<%for(int i = 0; i < pager.getPageSize(); i++){ %>
		<%Member member = memberList.get(i); %>

		<tr>
			<td><%=member.getE_mail() %></td>
			<td><%=member.getUser_name() %></td>
			<td><%=member.getJoindate() %></td>
			<td>
				<%if(member.getAuthstatus() == 1){%> 인증완료 <%} else {%> 인증미완료 <%} %>
			</td>
		</tr>
		<%} %>
	</table>

</body>
</html>
